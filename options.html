<html>
<head><title>NZBMatrixIMDb Options</title>
<script src= "jquery-1.6.4.min.js" type="text/javascript"></script>
<script src= "options.js" type="text/javascript"></script>
<script type="text/javascript">

function save_options() {
    for (type in TYPES) {
        type = TYPES[type];
        opts = $.map($("input:checked[name='"+type+"']"),function(opt){
            return $(opt).val();
        });
        set_options(type, opts);
    }
}

function table_generator() {
    var table;
    var checked;


    table = "<table>";
    table += "<tr><th></th><th>Cover View</th><th>List View</th><th>Grid View</th><th>Hover Link</th></tr>";
    for (option in OPTIONS) {
        option = OPTIONS[option];

        table += "<tr>";
        table += "<td>" + option + "</td>";

        for (type in TYPES) {
            type = TYPES[type];
            if (is_checked(type,option)) {
                checked = " checked='checked' ";
            } else {
                checked = "";
            }
            table += "<td><input type='checkbox' name='"+type+"' value='"+option+"' "+ checked +"/></td>";
        }
        table +="</tr>";
    }
    table += "</table>";

    $('#table').html(table);
}

$(document).ready(function(){
    table_generator();
    $('#save').click(function(){
        save_options();
    });
    $('#defaults').click(function(){
        c = confirm("Are you sure you want to reset to the default configuration?");
        if (c) {
            load_defaults();
            table_generator();
        }
    });
});

</script>
</head>
<body>
    <div id="table"></div>
    <input id="save" type="submit" value="Save" />
    <input id="defaults" type="submit" value="Load Defaults" />
</body>
</html>
